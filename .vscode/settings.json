{
	// Font - Use One of the font collection (required: Nerd Fonts"
	"editor.fontFamily": "'JetBrains Mono', Monaco, Menlo, 'Courier New', monospace",
	// "editor.fontFamily": "Monaco, Menlo, 'Courier New', monospace",
	"editor.fontLigatures": true,
	"editor.fontWeight": 500,
	"editor.fontSize": 13,
	"editor.letterSpacing": -0.2,
	"editor.lineHeight": 1.25,

	"settingsSync.ignoredSettings": [],
	"settingsSync.ignoredExtensions": [],
	"workbench.colorCustomizations": {
		"terminal.background": "#00000000"
	},
	"workbench.settings.applyToAllProfiles": ["workbench.colorCustomizations"],

	// Theme
	"workbench.colorTheme": "macOS Classic Dark v2",
	"workbench.iconTheme": "vscode-icons",

	// Layout
	"workbench.tree.indent": 24,
	"window.commandCenter": false,
	"workbench.layoutControl.enabled": false,
	"explorer.compactFolders": false,
	"workbench.editor.enablePreview": false,
	"editor.minimap.enabled": false,
	"workbench.editor.showTabs": "none",
	"workbench.statusBar.visible": true,
	"workbench.activityBar.location": "hidden",

	// Auto-save & Telemetry
	"files.autoSave": "onFocusChange",
	"telemetry.telemetryLevel": "off",
	"redhat.telemetry.enabled": false,

	// Terminal
	"terminal.integrated.fontLigatures.enabled": true,
	"terminal.integrated.defaultProfile.linux": "bash",

	// Editor
	"editor.defaultFormatter": "esbenp.prettier-vscode",
	"editor.formatOnSave": true,
	"editor.linkedEditing": true,
	"editor.wordWrap": "on",
	"editor.lineNumbers": "relative",
	"editor.suggest.insertMode": "replace",
	"editor.cursorSurroundingLines": 8,
	"editor.trimWhitespaceOnDelete": true,
	"editor.guides.indentation": false,
	"editor.guides.highlightActiveIndentation": false,
	"editor.cursorStyle": "block-outline",
	"editor.tabSize": 4,
	"editor.mouseWheelZoom": true,

	// Window
	"update.showReleaseNotes": false,
	"zenMode.hideLineNumbers": false,
	"window.zoomLevel": 2,
	"chat.agent.maxRequests": 20,

	// Git
	"git.autofetch": true,
	"git.inputValidationLength": 72,

	// Vim
	"vim.leader": "<Space>",
	"vim.hlsearch": true,
	"vim.inccommand": "replace",
	"vim.smartRelativeLine": true,
	"vim.highlightedyank.enable": true,
	"vim.foldfix": true,

	// FIXED: Consistent leader key syntax
	"vim.insertModeKeyBindings": [
		{
			"before": ["j", "k"],
			"after": ["<Esc>"]
		}
	],
	"vim.normalModeKeyBindings": [
		// Splits
		{
			"before": ["<Space>", "v"],
			"commands": ["workbench.action.splitEditorRight"]
		},
		{
			"before": ["<Space>", "s"],
			"commands": ["workbench.action.splitEditorDown"]
		},

		// Navigation & Definitions
		{
			"before": ["g", "d"],
			"commands": ["editor.action.goToDefinition"]
		},
		{
			"before": ["g", "p", "d"],
			"commands": ["editor.action.peekDefinition"]
		},
		{
			"before": ["g", "h"],
			"commands": ["editor.action.showDefinitionPreviewHover"]
		},
		{
			"before": ["g", "i"],
			"commands": ["editor.action.goToImplementation"]
		},
		{
			"before": ["g", "p", "i"],
			"commands": ["editor.action.peekImplementation"]
		},
		{
			"before": ["g", "q"],
			"commands": ["editor.action.quickFix"]
		},
		{
			"before": ["g", "r"],
			"commands": ["editor.action.referenceSearch.trigger"]
		},
		{
			"before": ["g", "t"],
			"commands": ["editor.action.goToTypeDefinition"]
		},
		{
			"before": ["g", "p", "t"],
			"commands": ["editor.action.peekTypeDefinition"]
		},

		// File navigation - FIXED DUPLICATE
		{
			"before": ["<Space>", "r", "f"],
			"commands": [
				"workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup"
			]
		},

		// Breadcrumbs - FIXED CONFLICT
		{
			"before": ["<Space>", "b", ";"],
			"commands": ["breadcrumbs.focus"]
		},
		{
			"before": ["<S-h>"],
			"commands": ["breadcrumbs.focusPrevious"],
			"when": "breadcrumbsVisible && breadcrumbsFocus"
		},
		{
			"before": ["<S-l>"],
			"commands": ["breadcrumbs.focusNext"],
			"when": "breadcrumbsVisible && breadcrumbsFocus"
		}
	],

	// FIXED: Non-recursive bindings with consistent syntax
	"vim.normalModeKeyBindingsNonRecursive": [
		// Buffer navigation - FIXED CONFLICT
		{
			"before": ["<S-h>"],
			"commands": [":bprevious"]
		},
		{
			"before": ["<S-l>"],
			"commands": [":bnext"]
		},
		{
			"before": ["<S-q>"],
			"commands": [":bdelete"]
		},

		// Window navigation
		{
			"before": ["<Space>", "h"],
			"commands": ["workbench.action.focusLeftGroup"]
		},
		{
			"before": ["<Space>", "j"],
			"commands": ["workbench.action.focusBelowGroup"]
		},
		{
			"before": ["<Space>", "k"],
			"commands": ["workbench.action.focusAboveGroup"]
		},
		{
			"before": ["<Space>", "l"],
			"commands": ["workbench.action.focusRightGroup"]
		},

		// File operations
		{
			"before": ["<Space>", "w"],
			"commands": [":w!"]
		},
		{
			"before": ["<Space>", "W"],
			"commands": [":wall"]
		},
		{
			"before": ["<Space>", "q"],
			"commands": [":q!"]
		},
		{
			"before": ["<Space>", "Q"],
			"commands": [":qall"]
		},
		{
			"before": ["<Space>", "x"],
			"commands": [":x!"]
		},

		// Navigation
		{
			"before": ["[", "d"],
			"commands": ["editor.action.marker.prev"]
		},
		{
			"before": ["]", "d"],
			"commands": ["editor.action.marker.next"]
		},
		{
			"before": ["m", "t"],
			"commands": ["editor.action.jumpToBracket"]
		},

		// Quick actions
		{
			"before": ["<Space>", "c", "a"],
			"commands": ["editor.action.quickFix"]
		},
		{
			"before": ["<Space>", "f"],
			"commands": ["workbench.action.findInFiles"]
		},
		{
			"before": ["<Space>", "p"],
			"commands": ["editor.action.formatDocument"]
		},
		{
			"before": ["<Space>", "s", "s"],
			"commands": ["workbench.action.findInFiles"]
		},
		{
			"before": ["<Space>", "/"],
			"commands": [":noh"]
		},

		// NEW: Useful additions
		{
			"before": ["<Space>", "t"],
			"commands": ["workbench.action.terminal.toggleTerminal"]
		},
		{
			"before": ["<Space>", "e"],
			"commands": ["workbench.view.explorer"]
		},
		{
			"before": ["<Space>", "r", "n"],
			"commands": ["editor.action.rename"]
		}
	],

	"vim.visualModeKeyBindings": [
		// Indentation
		{
			"before": ["<"],
			"commands": ["editor.action.outdentLines"]
		},
		{
			"before": [">"],
			"commands": ["editor.action.indentLines"]
		},

		// Move lines
		{
			"before": ["J"],
			"commands": ["editor.action.moveLinesDownAction"]
		},
		{
			"before": ["K"],
			"commands": ["editor.action.moveLinesUpAction"]
		},

		// Comments
		{
			"before": ["<Space>", "c"],
			"commands": ["editor.action.commentLine"]
		},
		{
			"before": ["<Space>", "C"],
			"commands": ["editor.action.blockComment"]
		},
		{
			"before": ["<Space>", "S", "/"],
			"commands": ["editor.action.blockComment"]
		},

		// Search/replace
		{
			"before": ["<Space>", "s"],
			"after": [":", "s", "/"]
		}
	],

	// Language specific
	"javascript.updateImportsOnFileMove.enabled": "always",
	"[javascript]": {
		"editor.defaultFormatter": "esbenp.prettier-vscode"
	},
	"typescript.updateImportsOnFileMove.enabled": "always",
	"[typescript]": {
		"editor.defaultFormatter": "esbenp.prettier-vscode"
	},
	"[typescriptreact]": {
		"editor.defaultFormatter": "esbenp.prettier-vscode"
	},
	"[jsonc]": {
		"editor.defaultFormatter": "esbenp.prettier-vscode"
	},
	"[dockercompose]": {
		"editor.insertSpaces": true,
		"editor.tabSize": 2,
		"editor.autoIndent": "advanced",
		"editor.quickSuggestions": {
			"other": true,
			"comments": false,
			"strings": true
		}
	},

	// Prettier
	"prettier.enable": true,
	"prettier.useTabs": true,
	"prettier.tabWidth": 4,
	"prettier.semi": true,
	"prettier.singleQuote": false,
	"prettier.trailingComma": "es5",
	"prettier.bracketSpacing": true,
	"prettier.bracketSameLine": false,
	"prettier.arrowParens": "always",
	"prettier.endOfLine": "lf",

	// File associations
	"workbench.editorAssociations": {
		"*.copilotmd": "vscode.markdown.preview.editor",
		"*.cpp": "default"
	},

	// Copilot
	"github.copilot.enable": {
		"*": false,
		"plaintext": false,
		"markdown": false,
		"scminput": false,
		"typescriptreact": false
	},

	// Snippets & Python
	"reactSnippets.settings.languageScopes": "typescript,typescriptreact,javascript",
	"python.defaultInterpreterPath": "${env:VSCODE_PYTHON_PATH}",

	// Chat
	"chat.commandCenter.enabled": false,
	"workbench.editor.editorActionsLocation": "hidden",

	// Tree view
	"workbench.tree.renderIndentGuides": "none",
	"explorer.confirmDragAndDrop": false,

	// Spell check
	"cSpell.userWords": [
		"absint",
		"ABSPATH",
		"ajaxurl",
		"kses",
		"Mahafuz",
		"nopriv",
		"publicaly",
		"quotify",
		"richedit",
		"slugdiv",
		"unslash",
		"wght",
		"widefat",
		"woocommerce"
	],

	// PHP
	"phpsab.phpExecutablePath": "${env:VSCODE_PHP_PATH}",
	"php.debug.executablePath": "${env:VSCODE_PHP_PATH}",
	"html.format.templating": true,
	"intelephense.phpdoc.useFullyQualifiedNames": true,
	"php-docblocker.alignParams": true,
	"php-docblocker.alignReturn": true,
	"php-docblocker.qualifyClassNames": true,
	"php-docblocker.returnGap": true,

	"[php]": {
		// "editor.defaultFormatter": "bmewburn.vscode-intelephense-client"
	}
}
